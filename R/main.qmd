---
title: "Entrega 1"
format: html
editor: visual
---

## Declaramos las librerías necesarias

```{r, message=FALSE}
library(readr)
library(dplyr)
```

## Leemos las bases de datos

```{r, message=FALSE}
REC91 <- read_csv("../data/raw_data/REC91.csv")
REC0111 <- read_csv("../data/raw_data/REC0111.csv")
RECH5 <- read_csv("../data/raw_data/RECH5.csv")
REC44 <- read_csv("../data/raw_data/REC44.csv")
RECH23 <- read_csv("../data/raw_data/RECH23.csv")
RECH0 <- read_csv("../data/raw_data/RECH0.csv")
```

## Resumen de los datos

Realizaremos un resumen de los datos de cada tabla y, además, comenzaremos con nuestro primer criterio de exclusión: seleccionaremos solo las variables pertinentes para nuestro estudio.

### Tabla RECH0 - Características del hogar

```{r}
summary(RECH0)
```

```{r}
RECH0 <- select(RECH0, HHID, HV009, HV015)

RECH0 <- rename(RECH0,
                cuestionario_hogar_id=HHID,
                personas_en_el_hogar=HV009,
                estado_entrevista=HV015)

names(RECH0)
```

### Tabla REC0111 - Datos básicos del MEF

Relación entre identificación del cuestionario individual e identificación del cuestionario del hogar.

```{r}
summary(REC0111)
```

```{r}
REC0111 <- select(REC0111, CASEID, HHID, V024, V102)

REC0111 <- rename(REC0111,
                  cuestionario_individual_id=CASEID,
                  cuestionario_hogar_id=HHID,
                  region=V024,
                  tipo_de_residencia=V102)

names(REC0111)
```

### Tabla RECH5 - Peso y talla (anemia)

Características de las mujeres de 12 a 49 años (madres de los infantes descritos en la tabla REC44).

```{r}
summary(RECH5)
```

```{r}
RECH5 <- select(RECH5, HHID, HA1, HA2, HA3, HA13, HA53, HA54, HA55, HA56, HA57, HA67)

RECH5 <- rename(RECH5,
                cuestionario_individual_id=HHID,
                edad=HA1,
                peso=HA2,
                talla=HA3,
                estado_medicion=HA13,
                hemoglobina=HA53,
                is_embarazada=HA54,
                estado_medicion_hemoglobina=HA55,
                homoglobina_ajustada_latitud=HA56,
                anemia=HA57,
                nivel_educativo=HA67)

names(RECH5)
```

Asignamos la categoría que corresponde a cada número para la variable *anemia*.

```{r}
RECH5$anemia[RECH5$anemia %in% c(1)] <-"grave"
RECH5$anemia[RECH5$anemia %in% c(2)] <-"moderado"
RECH5$anemia[RECH5$anemia %in% c(3)] <-"leve"
RECH5$anemia[RECH5$anemia %in% c(4)] <-"sin_anemia"
```

Cambiamos las unidades de *talla* y *peso*.

```{r}
RECH5 <- mutate(RECH5,
                # Convertimos de centímetros a metros
                talla = talla / 1000,
                # Convertimos de gramos a kilogramos
                peso = peso / 10)
```

### Tabla REC44 - Peso y talla (anemia)

Características de los infantes de 0 a 59 meses (5 años aproximadamente) por mamá.

```{r}
summary(REC44)
```

```{r}
REC44 <- select(REC44, CASEID, HW1, HW2, HW3, HW13, HW53, HW55, HW56, HW57)

REC44 <- rename(REC44,
                cuestionario_individual_id=CASEID,
                edad=HW1,
                peso=HW2,
                talla=HW3,
                estado_medicion=HW13,
                hemoglobina=HW53,
                estado_medicion_hemoglobina=HW55,
                hemoglobina_ajustada_latitud=HW56,
                anemia=HW57)

names(REC44)
```

Asignamos la categoría que corresponde a cada número para la variable *anemia*.

```{r}
REC44$anemia[REC44$anemia %in% c(1)] <-"grave"
REC44$anemia[REC44$anemia %in% c(2)] <-"moderado"
REC44$anemia[REC44$anemia %in% c(3)] <-"leve"
REC44$anemia[REC44$anemia %in% c(4)] <-"sin_anemia"
```

Cambiamos las unidades de *talla* y *peso*.

```{r}
REC44 <- mutate(REC44,
                # Convertimos de centímetros a metros
                talla = talla / 10,
                # Convertimos de gramos a kilogramos
                peso = peso / 10)
```

## Limpieza de datos

Vamos a descartar las observaciones que no tengan información, no tengan variabilidad o contengan datos atípicos.

### RECH0

Realizamos un filtro en función de la variable *estado_entrevista*.

```{r}
RECH0 <- filter(RECH0, estado_entrevista==1)
```

### RECH5

Realizamos un filtro en función de la variable *estado_medicion* y *estado_medicion_hemoglobina.*

```{r}
RECH5 <- filter(RECH5, estado_medicion==0)
RECH5 <- filter(RECH5, estado_medicion_hemoglobina==0)
```

### REC44

Realizamos un filtro en función de la variable *estado_medicion* y *estado_medicion_hemoglobina.*

```{r}
REC44 <-filter(REC44, estado_medicion==0)
REC44 <- filter(REC44, estado_medicion_hemoglobina==0)
```

## Análisis de datos

### Objetivo 1

### Objetivo 2

### Objetivo 3
